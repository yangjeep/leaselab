name = "leaselab-ops"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

# Pages configuration
pages_build_output_dir = "./build/client"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "leaselab-db"
database_id = "850dc940-1021-4c48-8d40-0f18992424ac"

# KV binding removed â€” using signed cookies

# R2 Buckets for file storage
# Public bucket for property images, etc.
[[r2_buckets]]
binding = "PUBLIC_BUCKET"
bucket_name = "leaselab-pub"

# Private bucket for applications, leases, N11s, etc.
[[r2_buckets]]
binding = "PRIVATE_BUCKET"
bucket_name = "leaselab-pri"

[vars]
ENVIRONMENT = "development"

# For preview/staging environment
[env.preview]
name = "leaselab-ops-preview"

[env.preview.vars]
ENVIRONMENT = "preview"

# Production environment
[env.production]
name = "leaselab-ops"

[[env.production.d1_databases]]
binding = "DB"
database_name = "leaselab-db"
database_id = "850dc940-1021-4c48-8d40-0f18992424ac"

# No KV namespaces in production either

# Public bucket for property images, etc.
[[env.production.r2_buckets]]
binding = "PUBLIC_BUCKET"
bucket_name = "leaselab-pub"

# Private bucket for applications, leases, N11s, etc.
[[env.production.r2_buckets]]
binding = "PRIVATE_BUCKET"
bucket_name = "leaselab-pri"

[env.production.vars]
ENVIRONMENT = "production"
