name = "leaselab-site"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = "./build/client"

# NO D1, KV, or R2 bindings!
# All data access goes through leaselab-worker API

[vars]
ENVIRONMENT = "development"
# Worker for CRUD operations (token-based authentication)
WORKER_URL = "https://leaselab-worker.yangjeep.workers.dev"
# SITE_API_TOKEN is set via 'wrangler pages secret put SITE_API_TOKEN'
OPS_API_URL = "https://leaselab-ops.pages.dev"
# GOOGLE_MAPS_API_KEY is set via 'wrangler pages secret put GOOGLE_MAPS_API_KEY'
R2_PUBLIC_URL = "https://pub-3e517223e87b41968fff44a1b232ae24.r2.dev"

# Preview environment
[env.preview]
name = "leaselab-site-preview"

[env.preview.vars]
ENVIRONMENT = "preview"
WORKER_URL = "https://leaselab-worker-preview.yangjeep.workers.dev"
OPS_API_URL = "https://leaselab-ops-preview.pages.dev"
R2_PUBLIC_URL = "https://pub-3e517223e87b41968fff44a1b232ae24.r2.dev"

# Production environment
[env.production]
name = "leaselab-site"

# NO bindings in production either!

[env.production.vars]
ENVIRONMENT = "production"
WORKER_URL = "https://leaselab-worker.yangjeep.workers.dev"
OPS_API_URL = "https://leaselab-ops.pages.dev"
R2_PUBLIC_URL = "https://pub.leaselab.io"
